<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /* 
            set结构：
                - ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。
                - Set本身是一个构造函数，用来生成 Set 数据结构。
                - Set函数可以接受一个数组（或者具有 iterable 接口的其他数据结构）作为参数，用来初始化
        
        */
      {
        const set1 = new Set([1, 2, 3, 4, 5, 1, 3, 6]);
        console.log("set1", set1);
      }

      {
        //数组去重
        const arr = [1, 3, 1, 2, 4, 2, 5, 3, 5];
        const set1 = new Set(arr);
        console.log("去重后的set", set1);
        //set结构是iterable类型，可以使用
        console.log("展开set", ...set1);
        console.log([...set1]);
      }

      {
        //数组去重简写
        const arr = [1, 3, 1, 2, 4, 2, 5, 3, 5];
        const arrNoRepeat = [...new Set(arr)];
        console.log("arrNoRepeat", arrNoRepeat);
      }

      {
        //因为set中可以传递 string set array等具有iterater接口的对象，所以不仅仅可以去重数组
        const str = "112233445511";
        const set1 = new Set(str);
        console.log("set1字符串的", set1);
        const strNoRepeat = [...set1].join("");
        console.log("strNoRepeat", strNoRepeat);
      }

      {
        //   合并数组并去重
        const arr1 = [1, 2, 3];
        const arr2 = [3, 4, 5];
        const newArr = [...new Set([...arr1, ...arr2])];
        console.log("newArr", newArr);
      }

      {
        /*  
            size 返回Set的长度
            add 添加某个值，返回 Set 结构本身。
            delete 删除某个值，返回一个布尔值，表示删除是否成功。
            has 返回一个布尔值，表示该值是否为Set的成员
            clear 清除所有成员，没有返回值。
            forEach()：使用回调函数遍历每个成员
            keys()：返回键名的遍历器,由于 Set 结构没有键名，只有键值（或者说键名和键值是同一个值），所以keys方法和values方法的行为完全一致。
            values()：返回键值的遍历器
            entries()：返回键值对的遍历器
        */
        const set = new Set([1, 2, 3, 4]);

        console.log("size", set.size);

        //add添加元素 改变原set 返回原set的引用
        const addRe = set.add(5);
        console.log(set, addRe);

        //delete 删除某个值，返回一个布尔值
        const deleteRe = set.delete(8);
        console.log("删除一个元素后", set, deleteRe);

        //has 返回一个布尔值，表示该值是否为Set的成员
        const hasRe = set.has(2);
        console.log("hasRe", hasRe);

        //forEach遍历
        set.forEach((item, index) => {
          //set的key和value是同一个东西
          console.log("遍历后的item，index", item, index);
        });

        //clear
        set.clear();
        console.log(set);
      }
    </script>
  </body>
</html>
